---
title: JavaScript Notes
published: true
---

### Index

1. [Functions](#functions)
2. [Objects](#objects)


### Functions


### Objects

#### 'Plain' Objects

`Date: 07/01/2024`  
The most basic data types in JavaScript are called 'primitives'. We call them 'primitives' because they contain a single thing of something (bool, number, string, etc.)

Objects are complex data structures that store *keyed collections* of various data and more complex entities (e.g., other objects, methods).

Objects are associative arrays with several special features.

An empty object can be created using:

1. Object constructor syntax
2. Object literal syntax

```js
let user = new Object();
let user = {};
```

An object can be created with an optional list of properties.

A **property** is a a *key-value* pair where the key is a string (property keys must be strings or symbols - usually strings). The value can be anything, including another object or a function.

Property key is also known as *property name* or *identifier*.

To access a property we may use:

1. Dot notation, or
2. Square bracket notation

To remove property we may use 'delete' operator.

```js
delete user.name;
```

Multi-word property names are OK to use, but must be quoted. We access those with square bracket notation.

The last property in the list may end with a comma that is known as 'trailing' or 'hanging' comma.

Square brackets provide a way to obtain the property name as the result of any expression.

*Computed property*. Square bracket notation gives more flexibility than the 'dot notation'. The key may be calculated at run-time. Square bracket notation is more powerful than dot notation. They allow property names and variables. Dot notation is easier to write and concise.

Special property value shorthand:

```js
// code
return {
    name: name,
    age: age,
}

// equivalent to
return {
    name,
    age,
}
```

We may mix normal property syntax and shorthand in the same object.

There are no limitations for property names. Language reserved words are allowed as property names (for, return, etc.)

Numbers as property names are converted to strings, as well as Bool, etc. Only strings and symbols allowed.

Additional operators:

- to delete a property: `delete obj.prop`
- to check if a property with the given key exists in the object: `"key" in obj`
- to iterate over object loop `for (let key in obj)`

Allowed to access any property with no errors, even when it doesn't exist. 'undefined' is returned.

*Integer property* is a string that can be converted to/from an integer without a change.

Object properties are ordered in a special fashion. Integer properties are sorted, other appear in the creation order.

Array, Date, Error, etc. are objects, not the types on their own. They belong to a single object type and extend it in various ways.


#### Object References

`Date: 08/01/2024`  
Primitives are copied/passed as a whole value (passed by value).

Objects are assigned and copied by *reference*. So, a variable will store not the "object value", but a "reference" for the value (address in memory that points to that object).

Copying such a variable or passing it as a function argument, copies that reference, not the object itself.

All operations via copied references are performed on the same, single object.

'const' object can be modified. The reference that points toward the object can't be changed, but the object itself can be modified.

We can create a new object and replicate the structure of the existing one by iterating over its properties and copying them on the primitive level.

- `Object.assign` - *shallow copy* (nested objects are copied by reference).
- `structuredClone` - *deep or structured cloning*.
- *Spread syntax*
- `_.cloneDeep(obj)` (lodash) - includes function properties.


#### Garbage Collection

*Garbage collector* is a background process in JavaScript engine that monitors all objects and removes unreachable.

It is performed automatically-can't force it or prevent it.

*Reachable values* are those that are accessible or somehow usable. They're guaranteed to be stored in memory. Inherently reachable values are called 'roots'.

To remove reference (example): `user = null;`

Mark and sweep (tactics).


#### 'this'

Objects are usually created to represent entities of the real world.

An *entity* is tied to a concept (real object) and is linked to business logic. Entity usually maps an object to a database table.

Actions are represented in JavaScript by functions in properties.

A function that is a property of an object is called a *method*.

Method shorthand:

```js
sayHi() {
    // code
}

// equivalent to
sayHi: function() {
    // code
}
```

Methods allow objects to 'act' like 'Object.doSomething()'.

Methods can reference the object as 'this'.

The value of 'this' is defined at run-time.

A function can be copied between objects.

When a function is called in the 'method' syntax `Object.method()`, the value of 'this' during the call is the object.

Arrow functions have no 'this'. When 'this' is accessed inside an arrow function, 'this' is taken from outside.
